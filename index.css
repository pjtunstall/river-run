html,
body {
  margin: 0;
  height: 100%;
  overflow: hidden;
  overscroll-behavior-y: contain; /* Prevent pull-to-refresh on mobile devices. It's generally good not to interfere with expected functionality, but, in this case, it would be hard to navigate upriver if the page was in danger of reloading with all but the most delicate of pulls. */
}

#world {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: black;
}

.tile {
  position: absolute;
  width: 100%;
  height: 101%;
  background-size: auto 101%;
  background-repeat: no-repeat;
  background-position: top center;
  background-color: #000;
  will-change: transform;
}

.milestone {
  position: absolute;
  width: 18px;
  height: 18px;
  border: 2px solid #000;
  background: #e53935;
  border-radius: 50%;
  transform: translateY(0);
  cursor: pointer;
}

.milestone .label {
  position: absolute;
  left: 50%;
  top: -8px;
  transform: translate(-50%, -100%);
  padding: 4px 6px;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  font: 12px/1.2 system-ui, sans-serif;
  white-space: nowrap;
  display: none;
}

@media (hover: hover) and (pointer: fine) {
  .milestone .label {
    display: none;
  }
  .milestone:hover .label {
    display: block;
  }
  .milestone .label.visible {
    display: block !important;
  }
}

@media (hover: none) {
  .milestone .label {
    display: none;
  }
  .milestone .label.visible {
    display: block;
  }
}

.compass {
  position: absolute;
  z-index: 10;
  left: 50%;
  transform: translateX(200px);
  top: 1rem;
  width: 6rem;
  height: 6rem;
  filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.8));
  cursor: pointer;
  transition: transform 0.3s ease;
}

.compass-text {
  font-size: 24px;
  font-weight: bold;
  fill: #3c2915;
  text-anchor: middle;
}

.compass:hover {
  transform: translateX(200px) scale(1.1);
}

@media (max-width: 768px) {
  .compass {
    transform: translateX(100px);
  }

  .compass:hover {
    transform: translateX(100px) scale(1.1);
  }
}

@media (max-width: 768px) and (max-aspect-ratio: 3/4) {
  .compass {
    width: min(25vw, 8rem);
    height: min(25vw, 8rem);
  }

  .milestone {
    width: min(8vw, 48px);
    height: min(8vw, 48px);
    border-width: 2px;
  }

  .milestone .label {
    font-size: min(4vw, 16px);
    padding: 0.5rem 0.7rem;
  }
}

.nav-arrow {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  width: 60px;
  height: 60px;
  background: rgba(107, 85, 55, 0.8);
  border: 2px solid #d6c2a1;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1000;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

.nav-arrow:hover {
  background: rgba(107, 85, 55, 1);
  transform: translateY(-50%) scale(1.1);
}

.nav-arrow:active {
  transform: translateY(-50%) scale(0.95);
}

.nav-arrow svg {
  width: 24px;
  height: 24px;
  fill: #d6c2a1;
}

.nav-arrow-left {
  left: 20px;
}

.nav-arrow-right {
  right: 20px;
}

/* Hide arrows when modals are open. */
.modal.show ~ .nav-arrow {
  opacity: 0;
  pointer-events: none;
}

.row {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 1rem;
  margin-bottom: 0.5rem;
}

.arrow-word {
  text-align: right;
  white-space: nowrap;
}
